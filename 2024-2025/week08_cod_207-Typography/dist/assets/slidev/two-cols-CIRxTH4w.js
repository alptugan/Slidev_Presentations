import{x as V,y as q}from"../modules/unplugin-icons-d1dOovIr.js";import{d as A,t as M,au as z,C as S,_ as D,y as w,av as K,o as i,b as m,f as h,A as g,c as x,g as R,i as c,h as W,e as L}from"../modules/vue-B14VsQc0.js";import{c as H,K as j,L as U,M as F,b as B}from"../index-Rw2zErEV.js";import{u as G}from"./context-S11bH9LM.js";const J=["title"],O=A({__name:"CodeBlockWrapper",props:{ranges:{type:Array,default:()=>[]},finally:{type:[String,Number],default:"last"},startLine:{type:Number,default:1},lines:{type:Boolean,default:H.lineNumbers},at:{type:[String,Number],default:"+1"},maxHeight:{type:String,default:void 0}},setup(u){const e=u,{$clicksContext:o}=G(),s=M(),f=j();z(()=>{o.unregister(f)}),S(()=>{var t;(t=s.value)==null||t.classList.toggle("slidev-code-line-numbers",e.lines)}),D(()=>{var y;if(!o||!((y=e.ranges)!=null&&y.length))return;const{start:t,end:l,delta:a}=o.resolve(e.at,e.ranges.length-1);o.register(f,{max:l,delta:a});const r=w(()=>Math.max(0,o.current-t+1)),d=w(()=>e.finally==="last"?e.ranges.at(-1):e.finally.toString());S(()=>{if(!s.value)return;let p=e.ranges[r.value]??d.value;const v=p==="hide";s.value.classList.toggle(U,v),v&&(p=e.ranges[r.value+1]??d.value);const C=s.value.querySelector(".shiki"),b=Array.from(C.querySelectorAll("code > .line")),$=b.length;if(F(p,$,e.startLine,n=>[b[n]]),e.maxHeight){const n=Array.from(C.querySelectorAll(".line.highlighted"));n.reduce((k,E)=>E.offsetHeight+k,0)>s.value.offsetHeight?n[0].scrollIntoView({behavior:"smooth",block:"start"}):n.length>0&&n[Math.round((n.length-1)/2)].scrollIntoView({behavior:"smooth",block:"center"})}})});const{copied:_,copy:I}=K();function N(){var l,a;const t=(a=(l=s.value)==null?void 0:l.querySelector(".slidev-code"))==null?void 0:a.textContent;t&&I(t)}return(t,l)=>{const a=V,r=q;return i(),m("div",{ref_key:"el",ref:s,class:c(["slidev-code-wrapper relative group",{"slidev-code-line-numbers":e.lines}]),style:W({"max-height":e.maxHeight,"overflow-y":e.maxHeight?"scroll":void 0,"--start":e.startLine})},[h(t.$slots,"default"),g(H).codeCopy?(i(),m("button",{key:0,class:"slidev-code-copy absolute top-0 right-0 transition opacity-0 group-hover:opacity-20 hover:!opacity-100",title:g(_)?"Copied":"Copy",onClick:l[0]||(l[0]=d=>N())},[g(_)?(i(),x(a,{key:0,class:"p-2 w-8 h-8"})):(i(),x(r,{key:1,class:"p-2 w-8 h-8"}))],8,J)):R("v-if",!0)],6)}}}),ee=B(O,[["__file","/opt/homebrew/lib/node_modules/@slidev/cli/node_modules/@slidev/client/builtin/CodeBlockWrapper.vue"]]),P=A({__name:"two-cols",props:{class:{type:String},layoutClass:{type:String}},setup(u){const e=u;return(o,s)=>(i(),m("div",{class:c(["slidev-layout two-columns w-full h-full grid grid-cols-2",e.layoutClass])},[L("div",{class:c(["col-left",e.class])},[h(o.$slots,"default")],2),L("div",{class:c(["col-right",e.class])},[h(o.$slots,"right")],2)],2))}}),te=B(P,[["__file","/opt/homebrew/lib/node_modules/@slidev/cli/node_modules/@slidev/client/layouts/two-cols.vue"]]);export{te as I,ee as _};
